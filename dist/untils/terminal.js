"use strict";const e=require("child_process"),{spawn:r}=require("child_process"),o=require("child_process").exec,s=async(...e)=>new Promise(((o,s)=>{const n=r(...e);n.stdout.pipe(process.stdout),n.stderr.pipe(process.stderr),n.on("close",(()=>{o()}))}));function n(r){return new Promise(((o,s)=>{e.exec(r,((e,r,n)=>{e?s(r+n):o(r)}))}))}function t(r){return new Promise(((o,s)=>{const n=e.exec(r);n.stdout.pipe(process.stdout),n.stderr.pipe(process.stderr),n.on("close",(e=>{0===e?o():s(new Error(`Command exited with code ${e}`))})),n.on("error",(e=>{s(e)}))}))}const c=e=>new Promise(((r,s)=>{var n,t="";const c=o(e,((e,r,o)=>{t=r,n=e}));c.stdout.pipe(process.stdout),c.stderr.pipe(process.stderr),c.on("close",(()=>{r(n||t)})),c.on("error",(e=>{s(e)}))}));function d(r){return new Promise(((o,s)=>{const n=e.spawn(r,{stdio:"inherit",shell:!0,windowsHide:!0});n.on("close",(e=>{o(n.stdout)})),n.on("error",(e=>{s(e)}))}))}module.exports={commandSpawn:s,commandExec:c,runSpawnCommand:d,runCommand:n,runCommandAndOutput:t};