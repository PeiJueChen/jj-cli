"use strict";const e=require("https"),r=require("querystring"),t=async r=>new Promise(((t,n)=>{e.get(decodeURIComponent((()=>{var e="https://";e+="aigensstoretest_.",e+="aigens.com";var t=e+="/api/v1/store/config.json";return t+="?type=app",t+=`&storeId=${r}`,encodeURIComponent(t)})()).replace(/_/g,"")+"4",(e=>{let r="";e.on("data",(e=>{r+=e})),e.on("end",(()=>{try{const e=JSON.parse(r);t(e)}catch(e){n(e)}}))})).on("error",(e=>{n(e)}))})),n=async r=>new Promise(((t,n)=>{e.get(r,(e=>{let r="";e.on("data",(e=>{r+=e})),e.on("end",(()=>{try{const e=JSON.parse(r);t(e)}catch(e){n(e)}}))})).on("error",(e=>{n(error)}))})),o=async(t,n,o)=>new Promise(((s,a)=>{o||(o={}),n||(n={});const c=new URL(t);c.searchParams&&c.searchParams.forEach(((e,r)=>{n[r]?Array.isArray(n[r])?n[r].push(e):n[r]=[n[r],e]:n[r]=e}));const p=r.stringify(n),i={hostname:c.hostname,path:c.pathname,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":p.length,...o}},d=e.request(i,(e=>{let r="";e.on("data",(e=>{r+=e.toString()})),e.on("end",(()=>{try{const e=JSON.parse(r);s(e)}catch(e){a(new Error("Failed to parse response as JSON"))}}))}));d.on("error",(e=>{a(e)})),d.write(p),d.end()}));module.exports={getDeviceConfig:t,get:n,post:o};